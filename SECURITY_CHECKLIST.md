# セキュリティチェックリスト

開発・修正後の簡易セキュリティ確認用テンプレートです。
リリース前の最終確認や、コードレビュー時の補助として使用してください。

## 基本情報

- **確認日**: YYYY年MM月DD日
- **確認対象**: [URL / ブランチ名]
- **実施者**: [名前]

## 1. 認証・認可 (Authentication & Authorization)

- [ ] **未認証アクセスの制限**: LOGINが必要なページに、未ログイン状態でアクセスできないこと。適切にリダイレクトされること。
- [ ] **権限確認**: 一般ユーザーが管理者用ページ/APIにアクセスできないこと（URL直打ち含む）。
- [ ] **パスワード要件**: 新規登録・変更時に適切なパスワード強度（長さ、複雑さ）が要求されること。
- [ ] **セッション管理**: ログアウト後にセッションが無効化され、ブラウザの「戻る」ボタンで閲覧できないこと。

## 2. 入力検証・データ処理 (Input Validation & Data Handling)

- [ ] **必須項目チェック**: 必須入力項目が空の場合、サーバーサイドでもエラーとなること。
- [ ] **型・形式チェック**: 数値項目に文字列、メールアドレス形式など、想定外のデータが弾かれること。
- [ ] **文字数制限**: 極端に長い文字列を入力してもエラーやレイアウト崩れが起きないこと。
- [ ] **特殊文字の処理**: `<script>`, `' OR '1'='1` などの特殊文字を入力してもそのまま表示/実行されないこと（XSS/SQLi対策）。

## 3. 通信・ヘッダー (Network & Headers)

- [ ] **HTTPS**: 全ページがHTTPSで配信されていること。HTTPでアクセスした場合にHTTPSへリダイレクトされること。
- [ ] **Cookie属性**: セッションCookieに `Secure`, `HttpOnly`, `SameSite` 属性が付与されていること。
- [ ] **不要な情報の隠蔽**: エラー画面やレスポンスヘッダーに、サーバーのバージョン情報やスタックトレースが表示されていないこと。

## 4. 重要情報の取り扱い (Sensitive Data)

- [ ] **ログ出力**: パスワード、APIキー、個人情報などがログに平文で出力されていないこと。
- [ ] **画面表示**: 画面上に不要な機密情報（ID、内部コード等）が表示されていないこと。
- [ ] **ローカルストレージ**: 機密情報（アクセストークン等）を安易に `localStorage` に保存していないこと（推奨: `sessionStorage` または Cookie）。

## 5. API・バックエンド (API & Backend)

- [ ] **レート制限**: 短時間に大量のリクエストを送った場合、制限がかかるか（DoS対策の考慮）。
- [ ] **CSRF対策**: 更新系API（POST/PUT/DELETE）実行時に、CSRFトークンまたは適切なヘッダー検証が行われていること。
- [ ] **SQLインジェクション対策**: プレースホルダやORMを使用し、SQLの動的生成を行っていないこと。

---

## 備考・懸念点

- [ ] 確認できなかった項目や、懸念がある場合はここに記載。
